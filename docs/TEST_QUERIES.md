# 테스트 질문 가이드

**작성일**: 2026-01-30
**목적**: 테스트 플랫폼에서 사용 가능한 실제 DB 용어 및 예시 질문 제공

---

## 📚 DB에 저장된 용어 (카테고리별)

### GameObject (게임 오브젝트)
실제 게임 내 아이템, 캐릭터, 오브젝트

- 석판
- 한정 동물
- 뱀파이어 제프
- 좀비 포코타
- 유령 노이
- 개조 유칼리
- 포코코로

### Mechanic (게임 메카닉)
게임 시스템, 규칙, 동작

- 출석
- 클리어
- 미션 완료
- 연속 클리어 보너스

### Content (콘텐츠)
스테이지, 이벤트, 챕터 등

- 모험 81 챕터 보상
- 세이브 스테이지
- 이벤트 스테이지
- 게임센터
- 빙고

### Condition (조건/상태)
게임 내 조건, 상태

- 실패
- 이벤트 기간
- 이벤트 종료 시간
- 확률
- 패키지 구매 불가

### System (시스템)
UI, 기능, 시스템

- 크리스마스 보물자루
- 구매 확인 팝업
- 메시지함
- 정찰대의 기율
- 상점

### Currency (화폐)
게임 내 재화

- 메달
- 클로버 (추정)

---

## 🔗 관계가 있는 용어 조합 (테스트 추천)

### 1. 모험 81 챕터 보상 → 포코코로
**관계**: rewards (보상)
**신뢰도**: 0.96
**근거**: "챕터 클리어 보상"

**추천 질문**:
```
모험 81 챕터 보상이 뭐야?
모험 81 챕터를 클리어하면 무엇을 받나요?
포코코로는 어디서 얻을 수 있나요?
```

---

### 2. 좀비 포코타 ↔ 뱀파이어 제프
**관계**: counters (대응)
**신뢰도**: 0.88
**근거**: "특정 이벤트에서 모아야 하는 캐릭터"

**추천 질문**:
```
좀비 포코타는 어떤 캐릭터야?
뱀파이어 제프와 관련된 캐릭터는?
유령 노이는 무슨 역할이야?
```

---

### 3. 상점 → 메달
**관계**: consumes (소비)
**신뢰도**: 0.96
**근거**: "아이템 구매 시 메달 소모"

**추천 질문**:
```
상점에서 뭘 살 수 있어?
메달은 어디에 쓰나요?
메달로 무엇을 구매할 수 있나요?
```

---

## 💡 범용 테스트 질문 (추천)

### 기본 정보 질문
```
모험 81 챕터 보상이 뭐야?
석판은 뭐야?
클리어하면 무엇을 받나요?
출석 보상은?
```

### 관계 탐색 질문
```
포코코로는 어디서 얻을 수 있나요?
메달은 어디에 쓰나요?
뱀파이어 제프와 관련된 것은?
```

### 복잡한 질문 (그래프 탐색)
```
이벤트 스테이지를 클리어하면 무엇을 얻을 수 있나요?
한정 동물을 획득하는 방법은?
게임센터에서 할 수 있는 것은?
```

### 시스템 질문
```
구매 확인 팝업은 언제 나와?
메시지함은 어떻게 사용해?
크리스마스 보물자루는 뭐야?
```

---

## 🧪 테스트 시나리오

### 시나리오 1: 보상 체인 탐색
1. "모험 81 챕터 보상이 뭐야?" → 포코코로 획득
2. "포코코로는 어디에 쓰나요?" → (관계 탐색)
3. "다른 챕터 보상은?" → (유사 콘텐츠 검색)

### 시나리오 2: 캐릭터 관계 탐색
1. "뱀파이어 제프는 뭐야?" → 캐릭터 정보
2. "뱀파이어 제프와 관련된 캐릭터는?" → 좀비 포코타, 유령 노이
3. "좀비 포코타는 어떻게 얻어?" → (획득 방법)

### 시나리오 3: 화폐 흐름 탐색
1. "메달은 어디에 쓰나요?" → 상점에서 사용
2. "상점에서 뭘 살 수 있어?" → (상점 아이템)
3. "메달은 어떻게 얻나요?" → (획득 방법)

---

## ✅ 테스트 체크리스트

### 답변 품질 검증
- [ ] **출처 표기**: [Source: 문서명] 또는 [Chunk: ID] 포함
- [ ] **구조화**: ##, ### 마크다운 헤더 사용
- [ ] **관계 분석**: Graph Relations 섹션 포함 (관계가 있을 경우)
- [ ] **Evidence**: 관계에 근거 텍스트 포함
- [ ] **비즈니스 인사이트**: 실무 활용 방안 제시

### 기능 검증
- [ ] 용어 매칭 (ILIKE 검색)
- [ ] 청크 검색 (Vector Search 대신 ILIKE)
- [ ] 그래프 탐색 (BFS, radius=2)
- [ ] 관계 신뢰도 필터링 (≥ 0.5)
- [ ] Evidence 텍스트 조회
- [ ] XML 컨텍스트 생성
- [ ] GPT-4o 답변 생성

---

## 🚀 테스트 실행 방법

### 1. 자동 통합 테스트
```bash
python3 scripts/test_v3_integration.py
```
- 비대화형
- 자동으로 용어 선택하여 테스트
- 6단계 검증 프로세스

### 2. 대화형 챗봇 (v2.0)
```bash
python3 scripts/test_chatbot_v2.py
```
- 그래프 기반 프롬프트
- Evidence 포함 관계 표시
- 6단계 추론 과정 시각화

### 3. 대화형 챗봇 (v3.0)
```bash
python3 scripts/test_chatbot_v3_integrated.py
```
- RAG 통합
- 구조화된 마크다운 답변
- Evidence 기반 출처 표기
- 비즈니스 인사이트 자동 생성

---

## 📊 예상 결과 예시

### 질문: "모험 81 챕터 보상이 뭐야?"

**v3.0 답변 예시**:
```markdown
## 모험 81 챕터 보상

### 핵심 답변
모험 81 챕터의 보상은 "포코코로"입니다. [Source: 23B05_포코코로 4종 추가]

### 상세 분석
- 모험 81 챕터를 완료하면 "포코코로"라는 보상을 받을 수 있습니다.
  [Source: 23B05_포코코로 4종 추가]

### 관계 분석
- 모험 81 챕터 보상 --[rewards]--> 포코코로 [Confidence: 0.96]
  근거: "챕터 클리어 보상"

### 비즈니스 인사이트
챕터 클리어 보상은 유저의 진행 동기를 부여하며, 리텐션 향상에 기여합니다.
```

---

## 🔍 추가 정보

### 현재 데이터베이스 상태
- **Documents**: 263개
- **Chunks**: 275개
- **Terms**: 262개
- **Relations**: 35개 (100% evidence 포함)
- **Ontology Rules**: 90개

### 제한 사항
1. **Vector Search 미구현**: 현재 ILIKE 텍스트 매칭 사용
2. **관계 수 제한**: 35개 (90개 문서 기준)
3. **BFS Radius**: 최대 2홉

### 향후 개선
1. OpenAI Embedding API를 통한 Vector Search
2. 더 많은 문서 처리로 관계 확장
3. 실시간 스트리밍 답변

---

**문의**: 구현 관련 질문은 이슈 등록 또는 담당자에게 연락하세요.
